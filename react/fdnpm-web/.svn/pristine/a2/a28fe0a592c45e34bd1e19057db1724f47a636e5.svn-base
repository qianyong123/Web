import React, { PureComponent } from 'react'
import { Input, Select, Button, Form } from 'antd'

const { Option } = Select
const FormItem = Form.Item

@Form.create()
  /**
   *@Date:2020/4/23
   *@Features: 预警监测页面filter页面
   */
class Filter extends PureComponent {

  handleSearch = e => {
    e.preventDefault()

    const { form, onSearch } = this.props

    form.validateFields((err, fieldsValue) => {
      if (err) return
      const values = {
        ...fieldsValue,
      }
      console.log(values)

      onSearch(values)
    })
  }

  handleReset = () => {
    const { form, resetForm } = this.props

    form.resetFields()
    resetForm()
  }

  render() {
    const {
      form: { getFieldDecorator },
      nameList = [],
      typeList = [],
    } = this.props

    const formItemLayout = {
      layout: 'inline',
      labelAlign: 'left',
    }

    // console.log(nameList)
    return (
      <div>
        <Form onSubmit={this.handleSearch} {...formItemLayout}>
          {/*<Form.Item >*/}
          {/*{getFieldDecorator('surveyYear')(*/}
          {/*<Select*/}
          {/*placeholder="一级指标类型"*/}
          {/*onSelect={this.onLoadMonitorDevListData}*/}
          {/*style={{ width: '150px' }}*/}
          {/*allowClear*/}
          {/*>*/}
          {/*<Option value={1}>1</Option>*/}
          {/*</Select>*/}
          {/*)}*/}
          {/*</Form.Item>*/}

          <FormItem>
            {getFieldDecorator('animalName')(
              <Select showSearch placeholder="物种名称" style={{ width: '150px' }}>
                {nameList && nameList.map(item => {
                  return <Option key={item}>{item}</Option>
                })}
              </Select>,
            )}
          </FormItem>
          <FormItem>
            {getFieldDecorator('type')(
              <Select showSearch placeholder="指标分类" style={{ width: '150px' }}>
                {typeList && typeList.map(item => {
                  return <Option key={item}>{item}</Option>
                })}
              </Select>,
            )}
          </FormItem>
          <FormItem>
            <Button icon="search" type="primary" htmlType="submit">
              查询
            </Button>
            <Button style={{ marginLeft: 8 }} onClick={this.handleReset}>
              重置
            </Button>
          </FormItem>
        </Form>
      </div>
    )
  }
}

export default Filter
